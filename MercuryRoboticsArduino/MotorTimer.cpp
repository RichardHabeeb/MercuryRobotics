/**************************************************************************************************
* Kansas State University Robotic Competition Team
* File: RobotControl.ino
*
* Description:
*
* Created: 3/9/2015, by Richard Habeeb
***************************************************************************************************/


/*-------------------------------------------------------------------------------------------------
*                                            Includes
*------------------------------------------------------------------------------------------------*/
#include "MotorTimer.h"


/*-------------------------------------------------------------------------------------------------
*                                           Prototypes
*------------------------------------------------------------------------------------------------*/

/*-------------------------------------------------------------------------------------------------
*                                           Variables
*------------------------------------------------------------------------------------------------*/
MotorTimer *MotorTimer::instance = NULL;

/*-------------------------------------------------------------------------------------------------
*                                            Functions
*------------------------------------------------------------------------------------------------*/

/*-------------------------------------------------------------------------------------------------
*                                            Methods
*------------------------------------------------------------------------------------------------*/



/*-----------------------------------------------------------------------------------
* Function: MotorTimer
*
* Description:
*------------------------------------------------------------------------------------*/
MotorTimer::MotorTimer()
{
}



MotorTimer::~MotorTimer()
{
}

/*-----------------------------------------------------------------------------------
* Function: MotorTimer
*
* Description:
*------------------------------------------------------------------------------------*/
MotorTimer* MotorTimer::getInstance(void)
{
	if (!instance) instance = new MotorTimer();

	return instance;
}

/*-----------------------------------------------------------------------------------
* Function: setup
*
* Description:
*------------------------------------------------------------------------------------*/
void MotorTimer::setup(StepperMotor *leftMotor, StepperMotor *rightMotor)
{
	this->motorA = leftMotor;
	this->motorB = rightMotor;

}

/*-----------------------------------------------------------------------------------
* Function: interruptLeft
*
* Description:
*------------------------------------------------------------------------------------*/
void MotorTimer::interruptA()
{
	motorA->step();
}

/*-----------------------------------------------------------------------------------
* Function: interruptLeft
*
* Description:
*------------------------------------------------------------------------------------*/
void MotorTimer::interruptB()
{
	motorB->step();
}
